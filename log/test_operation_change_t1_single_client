[2017-10-23 16:48:22,576] da.api<MainProcess>:INFO: <Node_:70001> initialized at 127.0.0.1:(UdpTransport=28090, TcpTransport=22355).
[2017-10-23 16:48:22,576] da.api<MainProcess>:INFO: Starting program <module 'olympus' from '/home/ubuntu/synced_async/constantine/src/olympus.py'>...
[2017-10-23 16:48:22,577] da.api<MainProcess>:INFO: Running iteration 1 ...
[2017-10-23 16:48:22,578] da.api<MainProcess>:INFO: Waiting for remaining child processes to terminate...(Press "Ctrl-C" to force kill)
[2017-10-23 16:48:22,620] olympus.Olympus<Olympus:be802>:OUTPUT: Parsed config: {'hosts': {0: 'localhost;'}, 'failures': {0: {'r0': {'c0': {'client_request': {'1': ['change_operation', '']}}}}}, 'replica_hosts': {'r2': '0', 'r0': '0', 'r1': '0'}, 'test_case_name': 'test_operation_change_t1_single_client', 'head_timeout': 3000, 'workloads': {'c0': ["put('movie','star')", "put('movie', 'star2')", "get('movie')"]}, 'num_client': 1, 'replicas': {}, 'clients': {}, 't': 1, 'nonhead_timeout': 3000, 'client_hosts': {'c0': 'localhost;', 'c2': 'localhost;', 'c1': 'localhost;'}, 'client_timeout': 3000}
[2017-10-23 16:48:22,646] olympus.Olympus<Olympus:be802>:OUTPUT: Generated keys: {'public_keys': {'o1': b'd58a3fc0e196f50903e15793830f7fbcc63b96304fb7bc6ad2a1549814a83209', 'r2': b'3306808945e6e0b04cbb6a22f62f9287261c526b82ac6289fe06326c30360ecd', 'c0': b'c08fe5a6f6119d7c3c1e1c738d4751abbe4f226115426c26b4cdab095f4487ed', 'c1': b'78ad692d2aa82e1ce3195bfdf5d7f8eab06d719524d0e3c10a0844b57e52d777', 'r1': b'7bea4116804f36dc9bc27a53e0ab42c62732690b26036303b9bad2ce338fd2d8', 'c2': b'8a23ff3c14ad780379f4b334425744764b20ae5e19d70ae144ec76cc5592a24c', 'r0': b'e5d8ee03f8ff98c8da1bf5dba912493953a01c2b478de2a4bc4c9321d174686a'}, 'private_keys': {'o1': <nacl.signing.SigningKey object at 0x7f6105fae8d0>, 'r2': <nacl.signing.SigningKey object at 0x7f6105faecc0>, 'c0': <nacl.signing.SigningKey object at 0x7f6105fae048>, 'c1': <nacl.signing.SigningKey object at 0x7f6105faec18>, 'r1': <nacl.signing.SigningKey object at 0x7f6105faeda0>, 'c2': <nacl.signing.SigningKey object at 0x7f6105faeb70>, 'r0': <nacl.signing.SigningKey object at 0x7f6105faed30>}}
[2017-10-23 16:48:22,749] client.Client<Client:be803>:OUTPUT: c0  initialized with config= {'workload': ["put('movie','star')", "put('movie', 'star2')", "get('movie')"], 'replicas': {'r2': <Replica:be806>, 'r0': <Replica:be804>, 'r1': <Replica:be805>}, 'id': 'c0', 't': 1, 'head_id': 'r0', 'public_keys': {'o1': b'd58a3fc0e196f50903e15793830f7fbcc63b96304fb7bc6ad2a1549814a83209', 'r2': b'3306808945e6e0b04cbb6a22f62f9287261c526b82ac6289fe06326c30360ecd', 'c0': b'c08fe5a6f6119d7c3c1e1c738d4751abbe4f226115426c26b4cdab095f4487ed', 'c1': b'78ad692d2aa82e1ce3195bfdf5d7f8eab06d719524d0e3c10a0844b57e52d777', 'r0': b'e5d8ee03f8ff98c8da1bf5dba912493953a01c2b478de2a4bc4c9321d174686a', 'c2': b'8a23ff3c14ad780379f4b334425744764b20ae5e19d70ae144ec76cc5592a24c', 'r1': b'7bea4116804f36dc9bc27a53e0ab42c62732690b26036303b9bad2ce338fd2d8'}, 'client_timeout': 3.0, 'private_key': <nacl.signing.SigningKey object at 0x7f6105fb7a90>, 'olympus': {'process_id': <Olympus:be802>, 'id': 'o1'}}
[2017-10-23 16:48:22,751] client.Client<Client:be803>:OUTPUT: The following operation was created: {'client_id': 'c0', 'command_string': "put('movie','star')", 'id': 0}
[2017-10-23 16:48:22,751] client.Client<Client:be803>:OUTPUT: return_value= OK
[2017-10-23 16:48:22,754] client.Client<Client:be803>:OUTPUT: A request for an operation was made {'content': {'operation': {'client_id': 'c0', 'command_string': "put('movie','star')", 'id': 0}, 'is_retry': False}, 'signed_content': b'\xc4+n\x07s\x9ey\xf6\xeb|\xd1\xeb\xe2\xf9 \xe0z\x93\xe3\xf0\x974\xa6\xa1\x97r\x15\xc1\xc0\xe3\xd6\x99\xe5\xacF\xdd\t??X\xf4\xa7\xf9 q\x88\x1a\xfa#\xf2\xd8\x8f\xc3\xa7D\xed/h\x90$\xd2\x03\xb7\r{\'operation\': {\'client_id\': \'c0\', \'command_string\': "put(\'movie\',\'star\')", \'id\': 0}, \'is_retry\': False}'}
[2017-10-23 16:48:22,755] replica.Replica<Replica:be804>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  c0 c0 0 r0
[2017-10-23 16:48:22,756] replica.Replica<Replica:be804>:OUTPUT: Head is processing request (operation_id, client_id) (0, 'c0')
[2017-10-23 16:48:22,759] replica.Replica<Replica:be805>:OUTPUT: Received shuttle (source, client_id, operation_id, self_id)  r0 c0 0 r1
[2017-10-23 16:48:22,762] replica.Replica<Replica:be806>:OUTPUT: Received shuttle (source, client_id, operation_id, self_id)  r1 c0 0 r2
[2017-10-23 16:48:22,766] replica.Replica<Replica:be805>:OUTPUT: Received result shuttle (source, client_id, operation_id, self_id)  r2 c0 0 r1
[2017-10-23 16:48:22,770] replica.Replica<Replica:be804>:OUTPUT: Received result shuttle (source, client_id, operation_id, self_id)  r1 c0 0 r0
[2017-10-23 16:48:22,773] client.Client<Client:be803>:OUTPUT: A result was received from replica= r2
[2017-10-23 16:48:22,775] client.Client<Client:be803>:OUTPUT: The operation result pair is= {'client_id': 'c0', 'command_string': "put('movie','star')", 'id': 0} OK
[2017-10-23 16:48:22,775] client.Client<Client:be803>:OUTPUT: The result received is valid:(result, operation)= OK {'client_id': 'c0', 'command_string': "put('movie','star')", 'id': 0}
[2017-10-23 16:48:22,776] client.Client<Client:be803>:OUTPUT: The following operation was created: {'client_id': 'c0', 'command_string': "put('movie', 'star2')", 'id': 1}
[2017-10-23 16:48:22,776] client.Client<Client:be803>:OUTPUT: return_value= OK
[2017-10-23 16:48:22,777] client.Client<Client:be803>:OUTPUT: A request for an operation was made {'content': {'operation': {'client_id': 'c0', 'command_string': "put('movie', 'star2')", 'id': 1}, 'is_retry': False}, 'signed_content': b'\'\x02s!\xb9\xc9\x19\xfea\xbaO\xdf\xf5\xf6\xb4 \x8b\x8f\x81\xe1\x08\xa35g\xfa\x81\xfc7E\x03[\x0e\x9f\xb2\x9b\xf0\x11\x84\x98&\xde\x16\x1f\x8f\xc7N\x13\xd7\xe8\xcd\xd0>W\x92\xf0\x12\x94\x8c\xa8\xf1m\xf9\x15\x0b{\'operation\': {\'client_id\': \'c0\', \'command_string\': "put(\'movie\', \'star2\')", \'id\': 1}, \'is_retry\': False}'}
[2017-10-23 16:48:22,791] replica.Replica<Replica:be804>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  c0 c0 1 r0
[2017-10-23 16:48:22,791] replica.Replica<Replica:be804>:OUTPUT: Head is processing request (operation_id, client_id) (1, 'c0')
[2017-10-23 16:48:22,792] replica.Replica<Replica:be804>:OUTPUT: Failure trigger updated (failure_trigger, failure, replica_id) client_request ['change_operation', ''] r0
[2017-10-23 16:48:22,793] replica.Replica<Replica:be805>:OUTPUT: Received shuttle (source, client_id, operation_id, self_id)  r0 c0 1 r1
[2017-10-23 16:48:22,795] replica.Replica<Replica:be806>:OUTPUT: Received shuttle (source, client_id, operation_id, self_id)  r1 c0 1 r2
[2017-10-23 16:48:22,798] replica.Replica<Replica:be805>:OUTPUT: Received result shuttle (source, client_id, operation_id, self_id)  r2 c0 1 r1
[2017-10-23 16:48:22,798] client.Client<Client:be803>:OUTPUT: A result was received from replica= r2
[2017-10-23 16:48:22,802] client.Client<Client:be803>:OUTPUT: The operation result pair is= {'client_id': 'c0', 'command_string': "put('movie', 'star2')", 'id': 1} OK
[2017-10-23 16:48:22,803] replica.Replica<Replica:be804>:OUTPUT: Received result shuttle (source, client_id, operation_id, self_id)  r1 c0 1 r0
[2017-10-23 16:48:22,803] client.Client<Client:be803>:OUTPUT: The result received is valid:(result, operation)= OK {'client_id': 'c0', 'command_string': "put('movie', 'star2')", 'id': 1}
[2017-10-23 16:48:22,803] client.Client<Client:be803>:OUTPUT: The following operation was created: {'client_id': 'c0', 'command_string': "get('movie')", 'id': 2}
[2017-10-23 16:48:22,804] client.Client<Client:be803>:OUTPUT: return_value= star2
[2017-10-23 16:48:22,804] client.Client<Client:be803>:OUTPUT: A request for an operation was made {'content': {'operation': {'client_id': 'c0', 'command_string': "get('movie')", 'id': 2}, 'is_retry': False}, 'signed_content': b'I\xe4\xa2QH\x11\xf1\xbd\xf9\x9d]yUV\xa1A\xde\xd3x\x903S\xe7\x0f\xde\x0b4\xd4\x17$c\xb9t\x98}j@\xe5Ig\xba\x85\xf8\xc1yn\x00\x12\xe1hr\x11\xdc\xd7R\x17\x1f\x11\x82t\xe3\x8fy\x03{\'operation\': {\'client_id\': \'c0\', \'command_string\': "get(\'movie\')", \'id\': 2}, \'is_retry\': False}'}
[2017-10-23 16:48:22,805] replica.Replica<Replica:be804>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  c0 c0 2 r0
[2017-10-23 16:48:22,805] replica.Replica<Replica:be804>:OUTPUT: Head is processing request (operation_id, client_id) (2, 'c0')
[2017-10-23 16:48:22,806] replica.Replica<Replica:be804>:OUTPUT: Failure 'change_operation' applied for (operation, replica_id)  {'client_id': 'c0', 'command_string': "get('x')", 'id': 2} r0
[2017-10-23 16:48:22,831] replica.Replica<Replica:be805>:OUTPUT: Received shuttle (source, client_id, operation_id, self_id)  r0 c0 2 r1
[2017-10[2017-10-23 16:48:25,806] client.Client<Client:be803>:OUTPUT: Wait for result timed out for operation= {'client_id': 'c0', 'command_string': "get('movie')", 'id': 2}
[2017-10-23 16:48:25,809] client.Client<Client:be803>:OUTPUT: Config requested from Olympus by client= c0
[2017-10-23 16:48:25,815] olympus.Olympus<Olympus:be802>:OUTPUT: Config request received from client= c0
[2017-10-23 16:48:25,821] olympus.Olympus<Olympus:be802>:OUTPUT: Config has been sent to client= c0
[2017-10-23 16:48:25,824] client.Client<Client:be803>:OUTPUT: The config was fetched from Olympus: {'t': 1, 'replicas': {'r2': <Replica:be806>, 'r0': <Replica:be804>, 'r1': <Replica:be805>}, 'id': 'c0', 'workload': ["put('movie','star')", "put('movie', 'star2')", "get('movie')"], 'head_id': 'r0', 'public_keys': {'o1': b'd58a3fc0e196f50903e15793830f7fbcc63b96304fb7bc6ad2a1549814a83209', 'r2': b'3306808945e6e0b04cbb6a22f62f9287261c526b82ac6289fe06326c30360ecd', 'c0': b'c08fe5a6f6119d7c3c1e1c738d4751abbe4f226115426c26b4cdab095f4487ed', 'c1': b'78ad692d2aa82e1ce3195bfdf5d7f8eab06d719524d0e3c10a0844b57e52d777', 'r1': b'7bea4116804f36dc9bc27a53e0ab42c62732690b26036303b9bad2ce338fd2d8', 'r0': b'e5d8ee03f8ff98c8da1bf5dba912493953a01c2b478de2a4bc4c9321d174686a', 'c2': b'8a23ff3c14ad780379f4b334425744764b20ae5e19d70ae144ec76cc5592a24c'}, 'client_timeout': 3.0, 'private_key': <nacl.signing.SigningKey object at 0x7f6105fb7fd0>, 'olympus': {'process_id': <Olympus:be802>, 'id': 'o1'}}
[2017-10-23 16:48:25,828] client.Client<Client:be803>:OUTPUT: Retransmitting request to all replicas for operation= {'client_id': 'c0', 'command_string': "get('movie')", 'id': 2}
[2017-10-23 16:48:25,841] replica.Replica<Replica:be806>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  c0 c0 2 r2
[2017-10-23 16:48:25,849] replica.Replica<Replica:be804>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  c0 c0 2 r0
[2017-10-23 16:48:25,850] replica.Replica<Replica:be804>:OUTPUT: Awaiting result shuttle from downstream _replicas
[2017-10-23 16:48:25,852] replica.Replica<Replica:be805>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  r2 c0 2 r1
[2017-10-23 16:48:25,853] replica.Replica<Replica:be805>:OUTPUT: Sending error message (client_id, replica_id) c0 r1
[2017-10-23 16:48:25,873] client.Client<Client:be803>:OUTPUT: An error message was received from replica= r1
[2017-10-23 16:48:25,880] replica.Replica<Replica:be805>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  c0 c0 2 r1
[2017-10-23 16:48:25,880] replica.Replica<Replica:be804>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  r1 c0 2 r0
[2017-10-23 16:48:25,883] replica.Replica<Replica:be804>:OUTPUT: Awaiting result shuttle from downstream _replicas
[2017-10-23 16:48:25,887] replica.Replica<Replica:be804>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  r1 c0 2 r0
[2017-10-23 16:48:25,889] replica.Replica<Replica:be804>:OUTPUT: Awaiting result shuttle from downstream _replicas
[2017-10-23 16:48:28,853] replica.Replica<Replica:be804>:OUTPUT: Timeout in head
[2017-10-23 16:48:28,854] replica.Replica<Replica:be804>:OUTPUT: Reconfiguration request sent to Olympus from head:  r0
[2017-10-23 16:48:28,861] client.Client<Client:be803>:OUTPUT: Wait for result timed out for operation= {'client_id': 'c0', 'command_string': "get('movie')", 'id': 2}
[2017-10-23 16:48:28,861] client.Client<Client:be803>:OUTPUT: Config requested from Olympus by client= c0
[2017-10-23 16:48:28,862] olympus.Olympus<Olympus:be802>:OUTPUT: Config request received from client= c0
[2017-10-23 16:48:28,863] olympus.Olympus<Olympus:be802>:OUTPUT: Config has been sent to client= c0
[2017-10-23 16:48:28,864] client.Client<Client:be803>:OUTPUT: The config was fetched from Olympus: {'t': 1, 'replicas': {'r2': <Replica:be806>, 'r0': <Replica:be804>, 'r1': <Replica:be805>}, 'id': 'c0', 'workload': ["put('movie','star')", "put('movie', 'star2')", "get('movie')"], 'head_id': 'r0', 'public_keys': {'o1': b'd58a3fc0e196f50903e15793830f7fbcc63b96304fb7bc6ad2a1549814a83209', 'r2': b'3306808945e6e0b04cbb6a22f62f9287261c526b82ac6289fe06326c30360ecd', 'c0': b'c08fe5a6f6119d7c3c1e1c738d4751abbe4f226115426c26b4cdab095f4487ed', 'c1': b'78ad692d2aa82e1ce3195bfdf5d7f8eab06d719524d0e3c10a0844b57e52d777', 'r1': b'7bea4116804f36dc9bc27a53e0ab42c62732690b26036303b9bad2ce338fd2d8', 'r0': b'e5d8ee03f8ff98c8da1bf5dba912493953a01c2b478de2a4bc4c9321d174686a', 'c2': b'8a23ff3c14ad780379f4b334425744764b20ae5e19d70ae144ec76cc5592a24c'}, 'client_timeout': 3.0, 'private_key': <nacl.signing.SigningKey object at 0x7f6105fc3048>, 'olympus': {'process_id': <Olympus:be802>, 'id': 'o1'}}
[2017-10-23 16:48:28,865] client.Client<Client:be803>:OUTPUT: Retransmitting request to all replicas for operation= {'client_id': 'c0', 'command_string': "get('movie')", 'id': 2}
[2017-10-23 16:48:28,867] replica.Replica<Replica:be806>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  c0 c0 2 r2
[2017-10-23 16:48:28,870] replica.Replica<Replica:be805>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  r2 c0 2 r1
[2017-10-23 16:48:28,870] replica.Replica<Replica:be804>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  c0 c0 2 r0
[2017-10-23 16:48:28,871] replica.Replica<Replica:be804>:OUTPUT: Head is processing request (operation_id, client_id) (2, 'c0')
[2017-10-23 16:48:28,872] replica.Replica<Replica:be805>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  c0 c0 2 r1
[2017-10-23 16:48:28,875] replica.Replica<Replica:be804>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  r1 c0 2 r0
[2017-10-23 16:48:28,875] replica.Replica<Replica:be805>:OUTPUT: Received shuttle (source, client_id, operation_id, self_id)  r0 c0 2 r1
[2017-10-23 16:48:28,875] replica.Replica<Replica:be804>:OUTPUT: Awaiting result shuttle from downstream _replicas
[2017-10-23 16:48:28,877] replica.Replica<Replica:be804>:OUTPUT: Received request message (source, client_id, operation_id, self_id)  r1 c0 2 r0
[2017-10-23 16:48:28,877] replica.Replica<Replica:be804>:OUTPUT: Awaiting result shuttle from downstream _replicas
[2017-10-23 16:48:28,880] replica.Replica<Replica:be806>:OUTPUT: Received shuttle (source, client_id, operation_id, self_id)  r1 c0 2 r2
[2017-10-23 16:48:28,885] client.Client<Client:be803>:OUTPUT: A result was received from replica= r2
[2017-10-23 16:48:28,885] replica.Replica<Replica:be805>:OUTPUT: Received result shuttle (source, client_id, operation_id, self_id)  r2 c0 2 r1
[2017-10-23 16:48:28,887] client.Client<Client:be803>:OUTPUT: The operation result pair is= {'client_id': 'c0', 'command_string': "get('movie')", 'id': 2} star2
[2017-10-23 16:48:28,888] client.Client<Client:be803>:OUTPUT: The result received is valid:(result, operation)= star2 {'client_id': 'c0', 'command_string': "get('movie')", 'id': 2}
[2017-10-23 16:48:28,889] client.Client<Client:be803>:OUTPUT: ~~~~~~~~~~Final state: {'movie': 'star2'}
[2017-10-23 16:48:28,889] client.Client<Client:be803>:OUTPUT: Requesting shared object from head:
[2017-10-23 16:48:28,892] replica.Replica<Replica:be804>:OUTPUT: Received result shuttle (source, client_id, operation_id, self_id)  r1 c0 2 r0
[2017-10-23 16:48:28,894] replica.Replica<Replica:be804>:OUTPUT: Result received at head, now forwarding to client= c0
[2017-10-23 16:48:28,900] replica.Replica<Replica:be804>:OUTPUT: Received shared_object_request from client= c0
[2017-10-23 16:48:28,901] client.Client<Client:be803>:OUTPUT: A result was received from replica= r0
[2017-10-23 16:48:28,902] client.Client<Client:be803>:OUTPUT: Not a pending request (2, 'c0')
[2017-10-23 16:48:28,902] client.Client<Client:be803>:OUTPUT: Received shared object from head =  {'movie': 'star2'}
[2017-10-23 16:48:28,903] client.Client<Client:be803>:OUTPUT: Final results are consistent
[2017-10-23 16:48:56,383] da.api<MainProcess>:WARNING: Received keyboard interrupt. 
